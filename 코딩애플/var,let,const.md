# var, let, const 선언과 할당, 범위(scope)

변수에 대해 총 정리를 해보자

변수를 애초에 왜 만들까
(자료 임시 저장공간)

- 나중에 다시 쓸려고
- 옛날엔 var 밖에 없었음
- ES6 이후에 let이랑 const 키워드가 생겼음

```
var 이름 = 'kim'
let 이름 = 'kim'
const 이름 = 'kim'
```

변수에는 3가지 특징이 있다.

- 선언
- 할당
- 범위

var 키워드는 재선언 재할당 이 가능하며 범위는 function임
재할당이란 같은 변수에 다시 값을 담는것임

```
var 이름 = '김'
var 이름 = '박'
var 이름 = '이'
```

```
let 나이 = 20;
let 나이 = 30; //이미 한번 할당해서 재선언하면 오류남

const 나이 = 20;
cosnt 나이 = 30; // 애도 한번 선언해서 재선언하면 오류남
```

변수에는 할당이 잇음

- 값 넣으면 할당
- 키워드 붙이면 선언
- 할당 할땐 특징이 있음

```
var 이름 = '김'
이름 = '이' //var나 let은 재할당이 자유로움, 값이 막 바뀔 수 있음
```

const로 만든 변수는 재할당이 안됨

- 재할당하려고 하면 에러남

```
const 나이 = 19;
나이 = 20; //오류남 const로 선언해서 재할당하려고 하니까
```

오브젝트에 담아서 변수로 쓰려고할땐 또 다름

```
const 사람 = { 이름: '김' };
사람.이름 = '박' //오류 안남
```

오브젝트에다가 재할당을 할 수 있지 않을까?
이름을 박으로 변경해주세요 (재할당)
변수안에 있는 값을 변경했을 뿐이지 변수 자체를 재할당 한게 아님
안에 있는 값을 변경하는 건 자유임(오브젝트 내부 값 변경해도 오류 안남)

완전히 변경 불가능한 오브젝트를 만들고 싶다면

- Object.freeze 사용하면 값이 절대 안바뀜 (값을 얼려버림)(불변의 오브젝트 만듬)
- freeze된 오브젝트에 값을 바꾸려고 할때, 'use strict'처럼 엄격한 모드에선 오류남

```
const 사람 = { 이름: '김' };
Object.freeze(사람);
사람.이름 = '박' //값을 바꾸려고 해도 안바뀜
```

변수에는 존재하는 범위라는게 있음

```
function 함수() {
  var 이름 = 'kim'; //함수 안에서 살고 죽는 애임 (사용범위가 함수인 변수를 만듬)
  이름;
}

이름; //찾을 수 없음

```

let과 const의 범위는 다르지 않을까?

- 범위가 약간 더 좁음
  (범위가 중괄호라고 생각하면됨)

```
function 함수() {
  let 이름 = 'kim'; //중괄호 안에서 살고 죽는 애임 (사용범위가 중괄호인 변수를 만듬)
}

if(true) {
  let 이름 = 'park';
}

for(let v = 1;) {

}
```

# 호이스팅, 전역변수, 참조

- 변수는 호이스팅이라는 특징이 있음
- 변수를 만들었을 때 호이스팅이라는 현상이 일어남

```

var 나이 = 30;
```

자바스크립트는 먼저 var 나이 라고 해석하고, 나이 = 30 이라고 해체해서 인식함
var 나이라고 한걸 맨위로 올림

변수의 호이스팅 현상: 변수의 선언을 변수 범위 맨위로 끌고오는 현상
변수를 만나면 선언부분을 강제로 맨위로 끌어올림

- 보통 상황에선 위에서 선언이 안되어있으면 에러가 뜸
- var 선언이 밑에 있음에도 첫번째 출력은 오류가 안남

```
console.log(나이); //undefined (아직 할당이 되지않은 자료형)
var 나이 = 30;
console.log(나이); // 30
```

- 변수를 동시에 여러개 만들고 싶다면

```
var 나이 = 10, 이름 = 'ㅁ', 성별; (한번에 키워드 하나를 가지고 만들어 놓을 수 있음, 동시에 할당도 가능)
```

전역변수라는 개념이 있음

- 모든 곳에서 쓸 수 있는 변수를 뜻함 - 모든 곳에서 쓸 수 있는 변수
  (바깥에 있는 변수는 안에서 그대로 사용가능함)
- 전역 변수를 만들고 싶으면 가장 바깥에 만들어 놓으면 모든 안쪽에서 참조할 수 있게됨

```
var 나이 = 20;
function 함수() {
  console.log(나이); //20 출력됨
}
함수();
```

- 지역변수임

```
var 나이 = 20;
function 함수() {
  var 이름 = '김' //얘는 지역변수임
}
함수();

```

전역변수를 만들수 있는 다른 방법도 있음

- window로 전역변수 만들기
  (window 자바스크립트 기본 함수 모음, html dom 이런 것들이 다 들어있는 큰 오브젝트)
- 함수를 넣어도 됨
- 전역변수를 만들때 window.이름 = '김' 처럼 쓰는 걸 더 권장하긴함

```
var 나이 = 20;
window.이름 = '김'

console.log(이름) //김
console.log(window.이름) //김
```

함수 만들때도 호이스팅이 일어남
함수의 정의 부분을 자바스크립트가 짤라내서 상단에서 해석하고 지나감

연습문제

```
if (true) {
  let a = 1;
  var b = 2;
  if (true) {
    let b = 3;
  }
  console.log(b); 이 코드를 실행하면 뭐가 나올까 //2
}
```

- let은 중괄호내에서 살고 죽는애임
